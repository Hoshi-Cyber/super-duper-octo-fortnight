---
import BaseLayout from "../../components/layout/BaseLayout.astro";
import Breadcrumbs from "../../components/seo/Breadcrumbs/index.astro";
import PricingTable from "../../components/plan/PricingTable/index.astro";
import ComparisonMatrix from "../../components/plan/ComparisonMatrix/index.astro";
import FAQAccordion from "../../components/faq/FAQAccordion/index.astro";
import LeadCaptureBanner from "../../components/cta/LeadCaptureBanner/index.astro";
import TrustBar from "../../components/socialproof/TrustBar/index.astro";
import StatStrip from "../../components/metrics/StatStrip/index.astro";
import faqs from "../../data/faqs/pricing";

const title = "Pricing";
const description =
  "Transparent, one-time pricing for CV, cover letter and LinkedIn services. Pick a plan, get predictable outcomes.";
const seo = { canonical: "/pricing/" };

// Social proof
const trust = {
  eyebrow: "Trusted by operators and graduates",
  rating: { value: 4.9, count: 200, label: "reviews" },
  items: [
    { logo: "/assets/logos/kra.svg", alt: "KRA" },
    { logo: "/assets/logos/kepsa.svg", alt: "KEPSA" },
    { logo: "/assets/logos/safaricom.svg", alt: "Safaricom" },
    { logo: "/assets/logos/un.svg", alt: "United Nations" },
    { logo: "/assets/logos/kpmg.svg", alt: "KPMG" },
    { logo: "/assets/logos/equity.svg", alt: "Equity Bank" },
  ],
};

// Key metrics
const stats = [
  { value: "1k+", label: "CVs delivered" },
  { value: "98%", label: "ATS pass rate" },
  { value: "95%", label: "Client satisfaction" },
  { value: "72h", label: "Typical turnaround" },
];

// Comparison matrix
const plans = ["Starter", "Pro", "Elite"];
const features = [
  { label: "ATS-optimized CV", values: [true, true, true] },
  { label: "Cover letter", values: [false, true, true] },
  { label: "LinkedIn optimization", values: [false, true, true] },
  { label: "Turnaround time", values: ["3 Days", "3 Days", "3 Days"] },
  { label: "Priority support", values: [false, true, true] },
];
---

<BaseLayout {title} {description} {seo}>

  <!-- Header -->
  <section class="section" aria-label="Breadcrumbs and page header">
    <div class="container">
      <Breadcrumbs items={[{ label: "Home", href: "/" }, { label: "Pricing" }]} />
      <header class="page-header">
        <h1 id="pricing-title" class="h1">Pricing</h1>
        <p class="page-lead">
          Pay once. Get a job-ready pack that wins interviews in Kenya’s market.
          Clear deliverables. No lock-ins.
        </p>
      </header>
    </div>
  </section>

  <!-- Trust -->
  <section class="section section--tight" aria-label="Trust">
    <div class="container">
      <TrustBar items={trust.items} rating={trust.rating} eyebrow={trust.eyebrow} />
    </div>
  </section>

  <!-- Metrics -->
  <section class="section section--tight" aria-label="Key metrics">
    <div class="container">
      <StatStrip stats={stats} />
    </div>
  </section>

  <!-- Plans -->
  <section class="section" aria-labelledby="plans">
    <div class="container">
      <h2 id="plans" class="sr-only">Plans</h2>
      <PricingTable showTitle={false} />
    </div>
  </section>

  <!-- Comparison -->
  <section class="section section--tight" aria-labelledby="compare">
    <div class="container">
      <h2 id="compare" class="h2">Compare what’s included</h2>
      <ComparisonMatrix plans={plans} features={features} wide showHead={false} />
    </div>
  </section>

  <!-- FAQs -->
  <section class="section section--tight" aria-labelledby="faq">
    <div class="container">
      <h2 id="faq" class="h2">FAQs</h2>
      <FAQAccordion items={faqs} showHead={false} />
      <div class="text-center mt-8">
        <a href="/contact/" class="btn btn-accent" data-cta="pricing:contact">Discuss Your Project</a>
      </div>
    </div>
  </section>

  <!-- Bottom CTA -->
  <section class="section section--tight">
    <div class="container">
      <LeadCaptureBanner
        title="Ready to get more interviews?"
        sub="Choose a plan now or talk to a specialist. No hidden fees."
        primaryHref="/contact/"
        primaryLabel="Get Started"
      />
    </div>
  </section>

  <style>
    .section--tight { padding-block: clamp(1rem, 2vw, 1.75rem); }
    .sr-only {
      position: absolute !important;
      width: 1px; height: 1px; padding: 0; margin: -1px;
      overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
    }

    /* Page header */
    .page-header { margin-top: var(--space-2, .5rem); }
    .page-header .h1 { margin: 0 0 var(--space-2, .5rem); }
    .page-lead{
      margin: 0;
      max-width: 68ch;
      font-size: clamp(1rem, .35vw + 1rem, 1.125rem);
      line-height: 1.55;
      color: var(--color-muted, #374151);
      background: color-mix(in oklab, var(--color-primary, #0B57D0) 3%, #fff);
      border: 1px solid color-mix(in oklab, var(--color-primary, #0B57D0) 14%, transparent);
      padding: var(--space-4, 1rem) var(--space-5, 1.25rem);
      border-radius: var(--radius-2xl, 16px);
      box-shadow: var(--shadow-xs, 0 1px 1px rgba(17,24,39,.05));
    }

    @media (min-width: 1024px){
      .page-header{
        display: grid;
        grid-template-columns: 1fr auto;
        align-items: end;
        gap: var(--space-3, .75rem);
      }
      .page-lead{ grid-column: 1 / -1; max-width: 60ch; }
    }
  </style>
</BaseLayout>
