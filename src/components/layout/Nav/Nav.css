/* Header frame */
.nav__frame{
  background: color-mix(in oklab, var(--color-background,#fff) 88%, transparent);
  backdrop-filter: saturate(140%) blur(8px);
  border-bottom: 1px solid color-mix(in oklab, #000 8%, transparent);
  box-shadow: 0 6px 24px rgba(0,0,0,.05);
}

/* Bar */
.nav__bar{
  display:flex; align-items:center; justify-content:space-between;
  gap:1rem; padding-block:.75rem;
}

/* Brand: icon + wordmark (no clipping) */
.nav__brand{
  display:inline-flex; align-items:center; gap:.75rem; text-decoration:none;
  min-width:0;            /* allow flex shrink */
  flex:0 1 auto;
}
.nav__brandIcon{
  inline-size:28px; block-size:28px; border-radius:.375rem;
  flex:0 0 auto;
}
.nav__brandWordmark{
  display:block; height:auto; object-fit:contain;
  max-block-size:28px;
  max-inline-size: clamp(140px, 46vw, 240px);
}
@media (min-width:640px){
  .nav__brandWordmark{ max-block-size:24px; max-inline-size: clamp(160px, 32vw, 260px); }
}
@media (min-width:1024px){
  .nav__brandWordmark{ max-block-size:28px; max-inline-size: 280px; }
}

/* Desktop list */
.nav__list{ display:none; list-style:none; gap:1.25rem; }
.nav__item{ position:relative; }
.nav__link{
  display:inline-flex; align-items:center; padding:.35rem 0;
  text-decoration:none; position:relative;
}
/* Baseline hover indicator */
.nav__link::after{
  content:""; position:absolute; left:0; right:0; bottom:-4px; height:2px;
  transform:scaleX(0); transform-origin:left; transition:transform .18s ease;
  background: currentColor; opacity:.85;
}
.nav__link:hover::after, .nav__link:focus-visible::after{ transform:scaleX(1); }
.nav__link:focus-visible, .nav__sublink:focus-visible,
.nav__drawerLink:focus-visible, .nav__drawerSublink:focus-visible{
  outline:2px solid transparent;
  box-shadow:0 0 0 3px color-mix(in oklab, var(--color-primary,#2563eb) 35%, white);
  border-radius:.375rem;
}

/* Desktop submenu: fit content */
.nav__submenu{
  position:absolute; inset-inline-start:0; top:100%;
  width:max-content; max-width:22rem; min-width:unset; padding:.5rem; display:none;
  background: color-mix(in oklab, var(--color-surface,#fff) 96%, var(--color-primary,#2563eb));
  border:1px solid color-mix(in oklab, #000 10%, transparent);
  border-radius:.625rem; box-shadow:0 12px 32px rgba(0,0,0,.12); z-index:70;
}
.nav__item.is-open > .nav__submenu{ display:block; }

.nav__sublink{
  display:block; padding:.5rem .75rem; border-radius:.5rem; color: var(--color-ink,#0b1b26);
  text-decoration:none;
}
.nav__sublink:hover{ background:color-mix(in oklab, var(--color-primary,#2563eb) 12%, #fff); }

/* CTA and toggle: CTA hidden on mobile header */
.nav__cta{ display:none !important; }
.nav__toggle{
  inline-size:40px; block-size:40px; display:grid; place-items:center;
  border:1px solid transparent; border-radius:.5rem; background:transparent;
}
.nav__toggleBar{ display:block; inline-size:20px; block-size:2px; margin:3px 0; background: currentColor; }

/* Scrim */
.nav__scrim{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  z-index:59; /* below drawer */
}

/* Drawer */
.nav__drawer{
  position:fixed; inset:0 0 0 auto; inline-size:min(85vw,360px);
  transform:translateX(100%); transition:transform .2s ease;
  background: color-mix(in oklab, var(--color-background,#fff) 96%, var(--color-primary,#2563eb) 4%);
  padding:1rem; overflow-y:auto; z-index:60;
  box-shadow:-12px 0 32px rgba(0,0,0,.2);
}
.nav__drawer.is-open{ transform:translateX(0); }
.nav__close{
  position:sticky; top:0; margin-left:auto; inline-size:40px; block-size:40px;
  display:grid; place-items:center; border:none; background:transparent;
  font-size:22px; line-height:1; color:inherit; cursor:pointer;
}
.nav__drawerList, .nav__drawerSub{ list-style:none; padding:0; margin:0; }

/* Drawer main links */
.nav__drawerLink{
  display:block; padding:.625rem .25rem; text-decoration:none; font-weight:600;
  border-radius:.5rem;
}
.nav__drawerLink:hover{ background: color-mix(in oklab, var(--color-primary,#2563eb) 12%, #fff); }

/* Drawer section: child list styled distinctly */
.nav__details{ margin:.25rem 0; padding:.25rem .25rem; border-radius:.5rem; background: color-mix(in oklab, #000 4%, transparent); }
.nav__summary{ cursor:pointer; padding:.5rem .25rem; font-weight:600; list-style:none; }
.nav__summary::-webkit-details-marker{ display:none; }
.nav__drawerSub{ margin:.25rem 0 .5rem .5rem; padding:.25rem .25rem; background: color-mix(in oklab, var(--color-primary,#2563eb) 6%, #fff); border-radius:.5rem; }
.nav__drawerSublink{ display:block; padding:.5rem .5rem; border-radius:.375rem; text-decoration:none; }
.nav__drawerSublink:hover{ background: color-mix(in oklab, var(--color-primary,#2563eb) 12%, #fff); }

/* Disable page scroll when drawer is open */
.no-scroll{ overflow:hidden; }

/* ≥768px: show desktop, hide drawer + toggle */
@media (min-width:768px){
  .nav__list{ display:flex; }
  .nav__cta{ display:inline-flex !important; }   /* show only on desktop/tablet */
  .nav__toggle, .nav__drawer, .nav__scrim{ display:none; }
}

/* ≥1024px: rhythm */
@media (min-width:1024px){
  .nav__bar{ padding-block:.9rem; }
  .nav__list{ gap:1.5rem; }
  .nav__link{ padding-block:.35rem; }
}
