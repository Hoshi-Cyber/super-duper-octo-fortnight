---
// src/components/blog/TrendingList/index.astro
/**
 * TrendingList â€” compact list of trending links.
 * Props:
 *  - items: Array<{ title: string; href: string; meta?: string }>
 *  - eyebrow?: string
 *  - title?: string
 *  - limit?: number         // default 5
 */

export interface Item { title: string; href: string; meta?: string }
export interface Props {
  items: Item[];
  eyebrow?: string;
  title?: string;
  limit?: number;
}

const {
  items = [],
  eyebrow = "Popular this month",
  title = "Trending",
  limit = 5,
} = Astro.props as Props;

const top = items.slice(0, Math.max(0, limit));

import css from "./TrendingList.css?url";
---
<style is:global>
  @import "../../../styles/tokens.css";
  @import "../../../styles/typography.css";
  @import "../../../styles/utilities.css";
  @import "../../../styles/breakpoints.css";
</style>
<link rel="stylesheet" href={css} />

{top.length > 0 && (
  <section class="trend" aria-label="Trending articles">
    <div class="container">
      <header class="trend__head">
        {eyebrow && <p class="trend__eyebrow">{eyebrow}</p>}
        {title && <h2 class="trend__title">{title}</h2>}
      </header>

      <ol class="trend__list">
        {top.map((t, i) => (
          <li class="trend__item">
            <a href={t.href} class="trend__link" data-cta="trending-link">
              <span class="trend__rank" aria-hidden="true">{i + 1}</span>
              <span class="trend__text">
                <span class="trend__label clamp-2">{t.title}</span>
                {t.meta && <span class="trend__meta">{t.meta}</span>}
              </span>
              <svg class="trend__chev" viewBox="0 0 20 20" aria-hidden="true" width="20" height="20">
                <path d="M7 5l5 5-5 5" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </a>
          </li>
        ))}
      </ol>
    </div>
  </section>
)}
