---
interface ShareProps { title: string; url: string; }
const { title, url } = Astro.props as ShareProps;

const enc = (s: string) => encodeURIComponent(s);
const shareUrl = url;
const xUrl = `https://twitter.com/intent/tweet?text=${enc(title)}&url=${enc(shareUrl)}`;
const liUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${enc(shareUrl)}`;

// Colocated CSS
const sheet = new URL("./PostShare.css", import.meta.url).toString();

const onCopy = `navigator.clipboard&&navigator.clipboard.writeText('${shareUrl}');`;
---
<link rel="stylesheet" href={sheet} />

<nav class="post__share" aria-label="Share this article">
  <button class="post__share-btn" type="button" on:click={onCopy}>Copy link</button>
  <a class="post__share-link" href={xUrl} rel="noopener nofollow" target="_blank" aria-label="Share on X">X</a>
  <a class="post__share-link" href={liUrl} rel="noopener nofollow" target="_blank" aria-label="Share on LinkedIn">LinkedIn</a>
</nav>
